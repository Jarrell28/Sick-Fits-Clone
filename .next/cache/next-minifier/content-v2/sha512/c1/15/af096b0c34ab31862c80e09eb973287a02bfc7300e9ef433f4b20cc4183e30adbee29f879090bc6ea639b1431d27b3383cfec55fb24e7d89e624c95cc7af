{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{cUBK:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return C})),n.d(e,\"b\",(function(){return N}));var i=n(\"nKUr\"),r=n(\"jT3O\"),d=n(\"VX74\"),a=n(\"lTCR\"),o=n.n(a),c=n(\"vOnD\"),s=n(\"obyI\"),u=c.b.div.withConfig({displayName:\"ItemStyles\",componentId:\"sc-16pk14u-0\"})([\"background:white;border:1px solid var(--offWhite);box-shadow:var(--bs);position:relative;display:flex;flex-direction:column;img{width:100%;height:400px;object-fit:cover;}p{line-height:2;font-weight:300;flex-grow:1;padding:0 3rem;font-size:1.5rem;}.buttonList{display:grid;width:100%;border-top:1px solid var(--lightGray);grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-gap:1px;background:var(--lightGray);& > *{background:white;border:0;font-size:1rem;padding:1rem;}}\"]),l=c.b.h3.withConfig({displayName:\"Title\",componentId:\"sc-16nq74k-0\"})([\"margin:0 1rem;text-align:center;transform:skew(-5deg) rotate(-1deg);margin-top:-3rem;text-shadow:2px 2px 0 rgba(0,0,0,0.1);a{background:var(--red);display:inline;line-height:1.3;font-size:4rem;text-align:center;color:white;padding:0 1rem;}\"]),p=c.b.span.withConfig({displayName:\"PriceTag\",componentId:\"nwbk6t-0\"})([\"background:var(--red);transform:rotate(3deg);color:white;font-weight:600;padding:5px;line-height:1;font-size:3rem;display:inline-block;position:absolute;top:-3px;right:-3px;\"]),b=n(\"YFqc\"),f=n.n(b),g=n(\"2y/O\"),h=n(\"xvhg\");function j(){var t=Object(r.a)([\"\\n    mutation DELETE_PRODUCT_MUTATION($id: ID!){\\n        deleteProduct(id: $id){\\n            id\\n            name\\n        }\\n    }\\n\"]);return j=function(){return t},t}var m=o()(j());function x(t,e){t.evict(t.identify(e.data.deleteProduct))}function v(t){var e=t.id,n=t.children,r=Object(d.useMutation)(m,{variables:{id:e},update:x}),a=Object(h.a)(r,2),o=a[0],c=a[1].loading;return Object(i.jsx)(\"button\",{type:\"button\",disabled:c,onClick:function(){confirm(\"Are you sure you want to delete this item?\")&&o(e).catch((function(t){return alert(t.message)}))},children:n})}var O=n(\"VliS\");function w(){var t=Object(r.a)([\"\\n    mutation ADD_TO_CART_MUTATION($id: ID!) {\\n        addToCart(productId: $id){\\n            id\\n        }\\n    }\\n\"]);return w=function(){return t},t}var y=o()(w());function _(t){var e=t.id,n=Object(d.useMutation)(y,{variables:{id:e},refetchQueries:[{query:O.a}]}),r=Object(h.a)(n,2),a=r[0],o=r[1].loading;return Object(i.jsxs)(\"button\",{disabled:o,type:\"button\",onClick:a,children:[\"Add\",o&&\"ing\",\" To Cart!\"]})}function T(t){var e,n,r=t.product;return Object(i.jsxs)(u,{children:[Object(i.jsx)(\"img\",{src:null===r||void 0===r||null===(e=r.photo)||void 0===e||null===(n=e.image)||void 0===n?void 0:n.publicUrlTransformed,alt:r.name}),Object(i.jsx)(l,{children:Object(i.jsx)(f.a,{href:\"/product/\".concat(r.id),children:r.name})}),Object(i.jsx)(p,{children:Object(g.a)(r.price)}),Object(i.jsx)(\"p\",{children:r.description}),Object(i.jsxs)(\"div\",{className:\"buttonList\",children:[Object(i.jsx)(f.a,{href:{pathname:\"update\",query:{id:r.id}},children:\"Edit\"}),Object(i.jsx)(_,{id:r.id}),Object(i.jsx)(v,{id:r.id,children:\"Delete\"})]})]})}function k(){var t=Object(r.a)([\"\\n    query ALL_PRODUCTS_QUERY($skip: Int = 0, $first: Int){\\n        allProducts(first: $first, skip: $skip) {\\n            id\\n            name\\n            price\\n            description\\n            photo {\\n            id\\n            image {\\n                publicUrlTransformed\\n            }\\n            }\\n        }\\n    }\\n\"]);return k=function(){return t},t}var C=o()(k()),I=c.b.div.withConfig({displayName:\"Products__ProductsList\",componentId:\"sc-1uv5x8m-0\"})([\"display:grid;grid-template-columns:1fr 1fr;grid-gap:60px;\"]);function N(t){var e=t.page,n=Object(d.useQuery)(C,{variables:{skip:e*s.a-s.a,first:s.a}}),r=n.data,a=n.error;return n.loading?Object(i.jsx)(\"p\",{children:\"Loading...\"}):a?Object(i.jsxs)(\"p\",{children:[\"Error: \",a.message]}):Object(i.jsx)(\"div\",{children:Object(i.jsx)(I,{children:null===r||void 0===r?void 0:r.allProducts.map((function(t){return Object(i.jsx)(T,{product:t},t.id)}))})})}},dapr:function(t,e,n){\"use strict\";n.r(e);var i=n(\"my7y\");n.d(e,\"default\",(function(){return i.default}))},my7y:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return o}));var i=n(\"nKUr\"),r=n(\"nOHt\"),d=n(\"KzMt\"),a=n(\"cUBK\");function o(){var t=Object(r.useRouter)().query,e=parseInt(t.page);return Object(i.jsxs)(\"div\",{children:[Object(i.jsx)(d.b,{page:e||1}),Object(i.jsx)(a.b,{page:e||1}),Object(i.jsx)(d.b,{page:e||1})]})}},tDMC:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/products/[page]\",function(){return n(\"dapr\")}])}},[[\"tDMC\",0,1,2,3,4,5]]]);","map":{"version":3,"sources":["static/chunks/pages/products/[page]-29cc271eb943a6d52be9.js"],"names":["_N_E","window","push","cUBK","module","__webpack_exports__","__webpack_require__","d","ALL_PRODUCTS_QUERY","Products","jsx_runtime","taggedTemplateLiteral","client","src","src_default","n","styled_components_browser_esm","config","styles_ItemStyles","div","withConfig","displayName","componentId","styles_Title","h3","styles_PriceTag","span","next_link","link_default","formatMoney","slicedToArray","_templateObject","data","Object","DELETE_PRODUCT_MUTATION","update","cache","payload","evict","identify","deleteProduct","DeleteProduct","_ref","id","children","_useMutation","variables","_useMutation2","loading","type","disabled","onClick","confirm","err","alert","message","User","AddToCart_templateObject","ADD_TO_CART_MUTATION","AddToCart","refetchQueries","query","addToCart","Product","_product$photo","_product$photo$image","product","photo","image","publicUrlTransformed","alt","name","a","href","concat","price","description","className","pathname","Products_templateObject","ProductsList","page","_useQuery","skip","first","error","allProducts","map","dapr","r","_index__WEBPACK_IMPORTED_MODULE_0__","my7y","ProductsPage","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","next_dist_client_router__WEBPACK_IMPORTED_MODULE_1__","_components_Pagination__WEBPACK_IMPORTED_MODULE_2__","_components_Products__WEBPACK_IMPORTED_MODULE_3__","parseInt","tDMC","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/products/[page]-29cc271eb943a6d52be9.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[15],{\n\n/***/ \"cUBK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ ALL_PRODUCTS_QUERY; });\n__webpack_require__.d(__webpack_exports__, \"b\", function() { return /* binding */ Products; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(\"jT3O\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/src/index.js\nvar src = __webpack_require__(\"lTCR\");\nvar src_default = /*#__PURE__*/__webpack_require__.n(src);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(\"vOnD\");\n\n// EXTERNAL MODULE: ./config.js\nvar config = __webpack_require__(\"obyI\");\n\n// CONCATENATED MODULE: ./components/styles/ItemStyles.js\n\nvar ItemStyles = styled_components_browser_esm[\"b\" /* default */].div.withConfig({\n  displayName: \"ItemStyles\",\n  componentId: \"sc-16pk14u-0\"\n})([\"background:white;border:1px solid var(--offWhite);box-shadow:var(--bs);position:relative;display:flex;flex-direction:column;img{width:100%;height:400px;object-fit:cover;}p{line-height:2;font-weight:300;flex-grow:1;padding:0 3rem;font-size:1.5rem;}.buttonList{display:grid;width:100%;border-top:1px solid var(--lightGray);grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-gap:1px;background:var(--lightGray);& > *{background:white;border:0;font-size:1rem;padding:1rem;}}\"]);\n/* harmony default export */ var styles_ItemStyles = (ItemStyles);\n// CONCATENATED MODULE: ./components/styles/Title.js\n\nvar Title = styled_components_browser_esm[\"b\" /* default */].h3.withConfig({\n  displayName: \"Title\",\n  componentId: \"sc-16nq74k-0\"\n})([\"margin:0 1rem;text-align:center;transform:skew(-5deg) rotate(-1deg);margin-top:-3rem;text-shadow:2px 2px 0 rgba(0,0,0,0.1);a{background:var(--red);display:inline;line-height:1.3;font-size:4rem;text-align:center;color:white;padding:0 1rem;}\"]);\n/* harmony default export */ var styles_Title = (Title);\n// CONCATENATED MODULE: ./components/styles/PriceTag.js\n\nvar PriceTag = styled_components_browser_esm[\"b\" /* default */].span.withConfig({\n  displayName: \"PriceTag\",\n  componentId: \"nwbk6t-0\"\n})([\"background:var(--red);transform:rotate(3deg);color:white;font-weight:600;padding:5px;line-height:1;font-size:3rem;display:inline-block;position:absolute;top:-3px;right:-3px;\"]);\n/* harmony default export */ var styles_PriceTag = (PriceTag);\n// EXTERNAL MODULE: ./node_modules/next/link.js\nvar next_link = __webpack_require__(\"YFqc\");\nvar link_default = /*#__PURE__*/__webpack_require__.n(next_link);\n\n// EXTERNAL MODULE: ./lib/formatMoney.js\nvar formatMoney = __webpack_require__(\"2y/O\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(\"xvhg\");\n\n// CONCATENATED MODULE: ./components/DeleteProduct.js\n\n\n\n\nfunction _templateObject() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation DELETE_PRODUCT_MUTATION($id: ID!){\\n        deleteProduct(id: $id){\\n            id\\n            name\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n //Query to delete product by ID\n\nvar DELETE_PRODUCT_MUTATION = src_default()(_templateObject()); //Clears the deleted product from client Apollo graphql cache\n\nfunction update(cache, payload) {\n  cache.evict(cache.identify(payload.data.deleteProduct));\n} //Component to Delete Product \n\n\nfunction DeleteProduct(_ref) {\n  var id = _ref.id,\n      children = _ref.children;\n\n  var _useMutation = Object(client[\"useMutation\"])(DELETE_PRODUCT_MUTATION, {\n    variables: {\n      id: id\n    },\n    update: update\n  }),\n      _useMutation2 = Object(slicedToArray[\"a\" /* default */])(_useMutation, 2),\n      deleteProduct = _useMutation2[0],\n      loading = _useMutation2[1].loading;\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n    type: \"button\",\n    disabled: loading,\n    onClick: function onClick() {\n      if (confirm('Are you sure you want to delete this item?')) {\n        deleteProduct(id)[\"catch\"](function (err) {\n          return alert(err.message);\n        });\n      }\n    },\n    children: children\n  });\n}\n// EXTERNAL MODULE: ./components/User.js\nvar User = __webpack_require__(\"VliS\");\n\n// CONCATENATED MODULE: ./components/AddToCart.js\n\n\n\n\nfunction AddToCart_templateObject() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation ADD_TO_CART_MUTATION($id: ID!) {\\n        addToCart(productId: $id){\\n            id\\n        }\\n    }\\n\"]);\n\n  AddToCart_templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n\n //Query that takes product ID and adds the id to cart table\n\nvar ADD_TO_CART_MUTATION = src_default()(AddToCart_templateObject()); //Add to cart button that takes in product id as argument\n\nfunction AddToCart(_ref) {\n  var id = _ref.id;\n\n  var _useMutation = Object(client[\"useMutation\"])(ADD_TO_CART_MUTATION, {\n    variables: {\n      id: id\n    },\n    refetchQueries: [{\n      query: User[\"a\" /* CURRENT_USER_QUERY */]\n    }] //refetchQueries updates the apollo client with the new data from mutation so no refresh is required\n\n  }),\n      _useMutation2 = Object(slicedToArray[\"a\" /* default */])(_useMutation, 2),\n      addToCart = _useMutation2[0],\n      loading = _useMutation2[1].loading;\n\n  return (\n    /*#__PURE__*/\n    //using loading variable to display indication the application is adding to cart\n    Object(jsx_runtime[\"jsxs\"])(\"button\", {\n      disabled: loading,\n      type: \"button\",\n      onClick: addToCart,\n      children: [\"Add\", loading && 'ing', \" To Cart!\"]\n    })\n  );\n}\n// CONCATENATED MODULE: ./components/Product.js\n\n\n\n\n\n\n\n\n //Component displaying Single Product on the Products Page. \n//Receives a single product object as argument from the gql all products query\n\nfunction Product(_ref) {\n  var _product$photo, _product$photo$image;\n\n  var product = _ref.product;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(styles_ItemStyles, {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\", {\n      src: product === null || product === void 0 ? void 0 : (_product$photo = product.photo) === null || _product$photo === void 0 ? void 0 : (_product$photo$image = _product$photo.image) === null || _product$photo$image === void 0 ? void 0 : _product$photo$image.publicUrlTransformed,\n      alt: product.name\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(styles_Title, {\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(link_default.a, {\n        href: \"/product/\".concat(product.id),\n        children: product.name\n      })\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(styles_PriceTag, {\n      children: Object(formatMoney[\"a\" /* default */])(product.price)\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n      children: product.description\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      className: \"buttonList\",\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(link_default.a, {\n        href: {\n          pathname: 'update',\n          query: {\n            id: product.id\n          }\n        },\n        children: \"Edit\"\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddToCart, {\n        id: product.id\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DeleteProduct, {\n        id: product.id,\n        children: \"Delete\"\n      })]\n    })]\n  });\n}\n// CONCATENATED MODULE: ./components/Products.js\n\n\n\n\nfunction Products_templateObject() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    query ALL_PRODUCTS_QUERY($skip: Int = 0, $first: Int){\\n        allProducts(first: $first, skip: $skip) {\\n            id\\n            name\\n            price\\n            description\\n            photo {\\n            id\\n            image {\\n                publicUrlTransformed\\n            }\\n            }\\n        }\\n    }\\n\"]);\n\n  Products_templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n\n\n\n //skip and first variables are used for pagination\n//skips a number of products that matches the page\n//first is the number of products to display on the page\n\nvar ALL_PRODUCTS_QUERY = src_default()(Products_templateObject());\nvar ProductsList = styled_components_browser_esm[\"b\" /* default */].div.withConfig({\n  displayName: \"Products__ProductsList\",\n  componentId: \"sc-1uv5x8m-0\"\n})([\"display:grid;grid-template-columns:1fr 1fr;grid-gap:60px;\"]); //Component that displays number of products per page\n//Receives the page number via url query argument\n\nfunction Products(_ref) {\n  var page = _ref.page;\n\n  var _useQuery = Object(client[\"useQuery\"])(ALL_PRODUCTS_QUERY, {\n    variables: {\n      skip: page * config[\"a\" /* perPage */] - config[\"a\" /* perPage */],\n      first: config[\"a\" /* perPage */]\n    }\n  }),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      loading = _useQuery.loading;\n\n  if (loading) return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n    children: \"Loading...\"\n  });\n  if (error) return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\", {\n    children: [\"Error: \", error.message]\n  });\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ProductsList, {\n      children: data === null || data === void 0 ? void 0 : data.allProducts.map(function (product) {\n        return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Product, {\n          product: product\n        }, product.id);\n      })\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"dapr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"my7y\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _index__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n//showing the products page\n\n\n/***/ }),\n\n/***/ \"my7y\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ProductsPage; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_client_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"nOHt\");\n/* harmony import */ var next_dist_client_router__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_router__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_Pagination__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"KzMt\");\n/* harmony import */ var _components_Products__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"cUBK\");\n\n\n\n\n //Component displaying all Products\n\nfunction ProductsPage() {\n  //Getting router from next.js\n  //Used to get the page query from URL\n  var _useRouter = Object(next_dist_client_router__WEBPACK_IMPORTED_MODULE_1__[\"useRouter\"])(),\n      query = _useRouter.query; //page being returned as string, must parse into Int\n\n\n  var page = parseInt(query.page);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Pagination__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"b\"], {\n      page: page || 1\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Products__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"b\"], {\n      page: page || 1\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Pagination__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"b\"], {\n      page: page || 1\n    })]\n  });\n}\n\n/***/ }),\n\n/***/ \"tDMC\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/products/[page]\",\n        function () {\n          return __webpack_require__(\"dapr\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"tDMC\",0,1,2,3,4,5]]]);","inputSourceMap":{"version":3,"sources":["C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\styles\\ItemStyles.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\styles\\Title.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\styles\\PriceTag.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\DeleteProduct.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\AddToCart.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\Product.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\Products.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\pages\\products\\[page].js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\pages\\products\\index.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fproducts%2F%5Bpage%5D&absolutePagePath=private-next-pages%2Fproducts%2F%5Bpage%5D.js!"],"names":[],"mappings":"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","file":"x","sourcesContent":["import styled from 'styled-components';\nvar ItemStyles = styled.div.withConfig({\n  displayName: \"ItemStyles\",\n  componentId: \"sc-16pk14u-0\"\n})([\"background:white;border:1px solid var(--offWhite);box-shadow:var(--bs);position:relative;display:flex;flex-direction:column;img{width:100%;height:400px;object-fit:cover;}p{line-height:2;font-weight:300;flex-grow:1;padding:0 3rem;font-size:1.5rem;}.buttonList{display:grid;width:100%;border-top:1px solid var(--lightGray);grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-gap:1px;background:var(--lightGray);& > *{background:white;border:0;font-size:1rem;padding:1rem;}}\"]);\nexport default ItemStyles;","import styled from 'styled-components';\nvar Title = styled.h3.withConfig({\n  displayName: \"Title\",\n  componentId: \"sc-16nq74k-0\"\n})([\"margin:0 1rem;text-align:center;transform:skew(-5deg) rotate(-1deg);margin-top:-3rem;text-shadow:2px 2px 0 rgba(0,0,0,0.1);a{background:var(--red);display:inline;line-height:1.3;font-size:4rem;text-align:center;color:white;padding:0 1rem;}\"]);\nexport default Title;","import styled from 'styled-components';\nvar PriceTag = styled.span.withConfig({\n  displayName: \"PriceTag\",\n  componentId: \"nwbk6t-0\"\n})([\"background:var(--red);transform:rotate(3deg);color:white;font-weight:600;padding:5px;line-height:1;font-size:3rem;display:inline-block;position:absolute;top:-3px;right:-3px;\"]);\nexport default PriceTag;","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation DELETE_PRODUCT_MUTATION($id: ID!){\\n        deleteProduct(id: $id){\\n            id\\n            name\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useMutation } from '@apollo/client';\nimport gql from 'graphql-tag'; //Query to delete product by ID\n\nvar DELETE_PRODUCT_MUTATION = gql(_templateObject()); //Clears the deleted product from client Apollo graphql cache\n\nfunction update(cache, payload) {\n  cache.evict(cache.identify(payload.data.deleteProduct));\n} //Component to Delete Product \n\n\nexport default function DeleteProduct(_ref) {\n  var id = _ref.id,\n      children = _ref.children;\n\n  var _useMutation = useMutation(DELETE_PRODUCT_MUTATION, {\n    variables: {\n      id: id\n    },\n    update: update\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      deleteProduct = _useMutation2[0],\n      loading = _useMutation2[1].loading;\n\n  return /*#__PURE__*/_jsx(\"button\", {\n    type: \"button\",\n    disabled: loading,\n    onClick: function onClick() {\n      if (confirm('Are you sure you want to delete this item?')) {\n        deleteProduct(id)[\"catch\"](function (err) {\n          return alert(err.message);\n        });\n      }\n    },\n    children: children\n  });\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _slicedToArray from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation ADD_TO_CART_MUTATION($id: ID!) {\\n        addToCart(productId: $id){\\n            id\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useMutation } from \"@apollo/client\";\nimport gql from \"graphql-tag\";\nimport { CURRENT_USER_QUERY } from './User'; //Query that takes product ID and adds the id to cart table\n\nvar ADD_TO_CART_MUTATION = gql(_templateObject()); //Add to cart button that takes in product id as argument\n\nexport default function AddToCart(_ref) {\n  var id = _ref.id;\n\n  var _useMutation = useMutation(ADD_TO_CART_MUTATION, {\n    variables: {\n      id: id\n    },\n    refetchQueries: [{\n      query: CURRENT_USER_QUERY\n    }] //refetchQueries updates the apollo client with the new data from mutation so no refresh is required\n\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      addToCart = _useMutation2[0],\n      loading = _useMutation2[1].loading;\n\n  return (\n    /*#__PURE__*/\n    //using loading variable to display indication the application is adding to cart\n    _jsxs(\"button\", {\n      disabled: loading,\n      type: \"button\",\n      onClick: addToCart,\n      children: [\"Add\", loading && 'ing', \" To Cart!\"]\n    })\n  );\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport ItemStyles from './styles/ItemStyles';\nimport Title from './styles/Title';\nimport PriceTag from './styles/PriceTag';\nimport Link from 'next/link';\nimport formatMoney from '../lib/formatMoney';\nimport DeleteProduct from './DeleteProduct';\nimport AddToCart from './AddToCart'; //Component displaying Single Product on the Products Page. \n//Receives a single product object as argument from the gql all products query\n\nexport default function Product(_ref) {\n  var _product$photo, _product$photo$image;\n\n  var product = _ref.product;\n  return /*#__PURE__*/_jsxs(ItemStyles, {\n    children: [/*#__PURE__*/_jsx(\"img\", {\n      src: product === null || product === void 0 ? void 0 : (_product$photo = product.photo) === null || _product$photo === void 0 ? void 0 : (_product$photo$image = _product$photo.image) === null || _product$photo$image === void 0 ? void 0 : _product$photo$image.publicUrlTransformed,\n      alt: product.name\n    }), /*#__PURE__*/_jsx(Title, {\n      children: /*#__PURE__*/_jsx(Link, {\n        href: \"/product/\".concat(product.id),\n        children: product.name\n      })\n    }), /*#__PURE__*/_jsx(PriceTag, {\n      children: formatMoney(product.price)\n    }), /*#__PURE__*/_jsx(\"p\", {\n      children: product.description\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"buttonList\",\n      children: [/*#__PURE__*/_jsx(Link, {\n        href: {\n          pathname: 'update',\n          query: {\n            id: product.id\n          }\n        },\n        children: \"Edit\"\n      }), /*#__PURE__*/_jsx(AddToCart, {\n        id: product.id\n      }), /*#__PURE__*/_jsx(DeleteProduct, {\n        id: product.id,\n        children: \"Delete\"\n      })]\n    })]\n  });\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _taggedTemplateLiteral from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    query ALL_PRODUCTS_QUERY($skip: Int = 0, $first: Int){\\n        allProducts(first: $first, skip: $skip) {\\n            id\\n            name\\n            price\\n            description\\n            photo {\\n            id\\n            image {\\n                publicUrlTransformed\\n            }\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useQuery } from \"@apollo/client\";\nimport gql from \"graphql-tag\";\nimport styled from \"styled-components\";\nimport { perPage } from \"../config\";\nimport Product from \"./Product\"; //skip and first variables are used for pagination\n//skips a number of products that matches the page\n//first is the number of products to display on the page\n\nexport var ALL_PRODUCTS_QUERY = gql(_templateObject());\nvar ProductsList = styled.div.withConfig({\n  displayName: \"Products__ProductsList\",\n  componentId: \"sc-1uv5x8m-0\"\n})([\"display:grid;grid-template-columns:1fr 1fr;grid-gap:60px;\"]); //Component that displays number of products per page\n//Receives the page number via url query argument\n\nexport default function Products(_ref) {\n  var page = _ref.page;\n\n  var _useQuery = useQuery(ALL_PRODUCTS_QUERY, {\n    variables: {\n      skip: page * perPage - perPage,\n      first: perPage\n    }\n  }),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      loading = _useQuery.loading;\n\n  if (loading) return /*#__PURE__*/_jsx(\"p\", {\n    children: \"Loading...\"\n  });\n  if (error) return /*#__PURE__*/_jsxs(\"p\", {\n    children: [\"Error: \", error.message]\n  });\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsx(ProductsList, {\n      children: data === null || data === void 0 ? void 0 : data.allProducts.map(function (product) {\n        return /*#__PURE__*/_jsx(Product, {\n          product: product\n        }, product.id);\n      })\n    })\n  });\n}","//showing the products page\nexport { default } from './index';","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useRouter } from \"next/dist/client/router\";\nimport Pagination from \"../../components/Pagination\";\nimport Products from \"../../components/Products\"; //Component displaying all Products\n\nexport default function ProductsPage() {\n  //Getting router from next.js\n  //Used to get the page query from URL\n  var _useRouter = useRouter(),\n      query = _useRouter.query; //page being returned as string, must parse into Int\n\n\n  var page = parseInt(query.page);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(Pagination, {\n      page: page || 1\n    }), /*#__PURE__*/_jsx(Products, {\n      page: page || 1\n    }), /*#__PURE__*/_jsx(Pagination, {\n      page: page || 1\n    })]\n  });\n}","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/products/[page]\",\n        function () {\n          return require(\"private-next-pages/products/[page].js\");\n        }\n      ]);\n    "]}}