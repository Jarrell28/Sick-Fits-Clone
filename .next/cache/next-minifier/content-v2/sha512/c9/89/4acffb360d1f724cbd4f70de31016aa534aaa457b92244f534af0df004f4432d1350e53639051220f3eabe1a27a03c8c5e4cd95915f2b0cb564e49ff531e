{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{\"8OKQ\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(\"cpVT\"),o=n(\"xvhg\"),i=n(\"q1tI\");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.useState)(e),n=t[0],a=t[1],c=Object.values(e).join();function u(e){var t=e.target,i=t.value,c=t.name,u=t.type;(\"number\"===u&&(i=parseInt(i)),\"file\"===u)&&(i=Object(o.a)(e.target.files,1)[0]);a(s(s({},n),{},Object(r.a)({},c,i)))}function l(){a(e)}function d(){var e=Object.fromEntries(Object.entries(n).map((function(e){var t=Object(o.a)(e,2),n=t[0];t[1];return[n,\"\"]})));a(e)}return Object(i.useEffect)((function(){a(e)}),[c]),{inputs:n,handleChange:u,resetForm:l,clearForm:d}}},DHDp:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/reset\",function(){return n(\"TIFu\")}])},TIFu:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return O}));var r=n(\"nKUr\"),o=n(\"vtBk\"),i=n(\"vJKn\"),a=n.n(i),s=n(\"rg98\"),c=n(\"xvhg\"),u=n(\"jT3O\"),l=n(\"mzXK\"),d=n(\"8OKQ\"),b=n(\"lTCR\"),p=n.n(b),f=(n(\"VliS\"),n(\"VX74\")),m=n(\"VUBQ\");function j(){var e=Object(u.a)([\"\\n    mutation RESET_MUTATION($email: String!, $token: String!, $password: String!){\\n        redeemUserPasswordResetToken(email: $email, token: $token, password: $password) {\\n            code\\n            message\\n        }\\n    }\\n\"]);return j=function(){return e},e}var h=p()(j());function v(e){var t,n=e.token,o=Object(d.a)({email:\"\",password:\"\",token:n}),i=o.inputs,u=o.handleChange,b=o.resetForm,p=Object(f.useMutation)(h,{variables:i}),j=Object(c.a)(p,2),v=j[0],O=j[1],g=O.data,w=(O.loading,O.error);function y(){return(y=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v().catch(console.error);case 3:n=e.sent,console.log(n),b();case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var x=null!==g&&void 0!==g&&null!==(t=g.redeemUserPasswordResetToken)&&void 0!==t&&t.code?null===g||void 0===g?void 0:g.redeemUserPasswordResetToken:void 0;return Object(r.jsxs)(l.a,{method:\"POST\",onSubmit:function(e){return y.apply(this,arguments)},children:[Object(r.jsx)(\"h2\",{children:\"Reset Your Password\"}),Object(r.jsx)(m.a,{error:w||x}),Object(r.jsxs)(\"fieldset\",{children:[null===(null===g||void 0===g?void 0:g.redeemUserPasswordResetToken)&&Object(r.jsx)(\"p\",{children:\"Password Reset Complete! Please sign in\"}),Object(r.jsxs)(\"label\",{htmlFor:\"email\",children:[\"Email\",Object(r.jsx)(\"input\",{type:\"email\",name:\"email\",placeholder:\"Your Email Address\",autoComplete:\"email\",value:i.email,onChange:u})]}),Object(r.jsxs)(\"label\",{htmlFor:\"password\",children:[\"Password\",Object(r.jsx)(\"input\",{type:\"password\",name:\"password\",placeholder:\"Your Password\",autoComplete:\"password\",value:i.password,onChange:u})]}),Object(r.jsx)(\"button\",{type:\"submit\",children:\"Request Reset\"})]})]})}function O(e){var t=e.query;return null!==t&&void 0!==t&&t.token?Object(r.jsxs)(\"div\",{children:[Object(r.jsx)(\"p\",{children:\"Reset Your Password\"}),Object(r.jsx)(v,{token:t.token})]}):Object(r.jsxs)(\"div\",{children:[Object(r.jsx)(\"p\",{children:\"Sorry, must supply valid token\"}),Object(r.jsx)(o.a,{})]})}},VliS:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a})),n.d(t,\"b\",(function(){return s}));var r=n(\"jT3O\"),o=n(\"VX74\");function i(){var e=Object(r.a)([\"\\n    query{\\n        authenticatedItem {\\n            ... on User {\\n                id\\n                email\\n                name\\n                cart {\\n                    id\\n                    quantity\\n                    product {\\n                        id\\n                        price\\n                        name\\n                        description\\n                        photo {\\n                            image {\\n                                publicUrlTransformed\\n                            }\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n    }\\n\"]);return i=function(){return e},e}var a=Object(o.gql)(i());function s(){var e=Object(o.useQuery)(a).data;return null===e||void 0===e?void 0:e.authenticatedItem}},cpVT:function(e,t,n){\"use strict\";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"a\",(function(){return r}))},mzXK:function(e,t,n){\"use strict\";var r=n(\"vOnD\"),o=Object(r.c)([\"from{background-position:0 0;}to{background-position:100% 100%;}\"]),i=r.b.form.withConfig({displayName:\"Form\",componentId:\"sc-1xszr8q-0\"})([\"box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:var(--red);}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient( to right,#ff3019 0%,#e2b04a 50%,#ff3019 100% );}&[aria-busy='true']::before{background-size:50% auto;animation:\",\" 0.5s linear infinite;}}\"],o);t.a=i},rg98:function(e,t,n){\"use strict\";function r(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,c,\"next\",e)}function c(e){r(a,o,i,s,c,\"throw\",e)}s(void 0)}))}}n.d(t,\"a\",(function(){return o}))},vtBk:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return h}));var r=n(\"vJKn\"),o=n.n(r),i=n(\"nKUr\"),a=n(\"rg98\"),s=n(\"xvhg\"),c=n(\"jT3O\"),u=n(\"mzXK\"),l=n(\"8OKQ\"),d=n(\"lTCR\"),b=n.n(d),p=n(\"VX74\"),f=n(\"VUBQ\");function m(){var e=Object(c.a)([\"\\n    mutation REQUEST_RESET_MUTATION($email: String!){\\n        sendUserPasswordResetLink(email: $email) {\\n            code\\n            message\\n        }\\n    }\\n\"]);return m=function(){return e},e}var j=b()(m());function h(){var e=Object(l.a)({email:\"\"}),t=e.inputs,n=e.handleChange,r=e.resetForm,c=Object(p.useMutation)(j,{variables:t}),d=Object(s.a)(c,2),b=d[0],m=d[1],h=m.data,v=(m.loading,m.error);function O(){return(O=Object(a.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b().catch(console.error);case 3:n=e.sent,console.log(n),r();case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.jsxs)(u.a,{method:\"POST\",onSubmit:function(e){return O.apply(this,arguments)},children:[Object(i.jsx)(\"h2\",{children:\"Request a Password Reset\"}),Object(i.jsx)(f.a,{error:v}),Object(i.jsxs)(\"fieldset\",{children:[null===(null===h||void 0===h?void 0:h.sendUserPasswordResetLink)&&Object(i.jsx)(\"p\",{children:\"Check your email for reset link!\"}),Object(i.jsxs)(\"label\",{htmlFor:\"email\",children:[\"Email\",Object(i.jsx)(\"input\",{type:\"email\",name:\"email\",placeholder:\"Your Email Address\",autoComplete:\"email\",value:t.email,onChange:n})]}),Object(i.jsx)(\"button\",{type:\"submit\",children:\"Request Reset\"})]})]})}},xvhg:function(e,t,n){\"use strict\";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if(\"string\"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===n&&e.constructor&&(n=e.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}n.d(t,\"a\",(function(){return o}))}},[[\"DHDp\",0,1,2,3]]]);","map":{"version":3,"sources":["static/chunks/pages/reset-7a94cd7c3a4e79898e08.js"],"names":["_N_E","window","push","8OKQ","module","__webpack_exports__","__webpack_require__","d","useForm","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","initial","undefined","_useState","inputs","setInputs","initialValues","values","join","handleChange","e","_e$target","value","name","type","parseInt","files","resetForm","clearForm","blankState","fromEntries","entries","map","_ref","_ref2","DHDp","exports","__NEXT_P","TIFu","r","ResetPage","jsx_runtime","RequestReset","regenerator","regenerator_default","n","asyncToGenerator","slicedToArray","taggedTemplateLiteral","Form","src","src_default","client","ErrorMessage","_templateObject","data","RESET_MUTATION","Reset","_data$redeemUserPassw","token","_useForm","email","password","_useMutation","variables","_useMutation2","reset","_useMutation2$","error","loading","_handleSubmit","a","mark","_callee","res","wrap","_context","prev","next","preventDefault","console","sent","log","stop","this","successfulError","redeemUserPasswordResetToken","code","method","onSubmit","_x","children","htmlFor","placeholder","autoComplete","onChange","query","VliS","CURRENT_USER_QUERY","useUser","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__","_apollo_client__WEBPACK_IMPORTED_MODULE_1__","authenticatedItem","cpVT","_defineProperty","obj","configurable","writable","mzXK","styled_components__WEBPACK_IMPORTED_MODULE_0__","form","withConfig","displayName","componentId","rg98","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","then","_asyncToGenerator","fn","self","args","err","vtBk","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__","_styles_Form__WEBPACK_IMPORTED_MODULE_5__","_lib_useForm__WEBPACK_IMPORTED_MODULE_6__","graphql_tag__WEBPACK_IMPORTED_MODULE_7__","graphql_tag__WEBPACK_IMPORTED_MODULE_7___default","_apollo_client__WEBPACK_IMPORTED_MODULE_8__","_ErrorMessage__WEBPACK_IMPORTED_MODULE_9__","REQUEST_RESET_MUTATION","requestReset","sendUserPasswordResetLink","xvhg","_arrayLikeToArray","arr","len","arr2","Array","_slicedToArray","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","_iterableToArrayLimit","o","minLen","prototype","toString","call","slice","constructor","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest"],"mappings":"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"},"name":"static/chunks/pages/reset-7a94cd7c3a4e79898e08.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[16],{\n\n/***/ \"8OKQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useForm; });\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n //Helper function to create dynamic controlled input components\n\nfunction useForm() {\n  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //creating state object for inputs\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(initial),\n      inputs = _useState[0],\n      setInputs = _useState[1];\n\n  var initialValues = Object.values(initial).join();\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    setInputs(initial);\n  }, [initialValues]);\n\n  function handleChange(e) {\n    var _e$target = e.target,\n        value = _e$target.value,\n        name = _e$target.name,\n        type = _e$target.type;\n\n    if (type === 'number') {\n      value = parseInt(value);\n    }\n\n    if (type === 'file') {\n      var _e$target$files = Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(e.target.files, 1);\n\n      value = _e$target$files[0];\n    }\n\n    setInputs(_objectSpread(_objectSpread({}, inputs), {}, Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({}, name, value)));\n  }\n\n  function resetForm() {\n    setInputs(initial);\n  }\n\n  function clearForm() {\n    var blankState = Object.fromEntries(Object.entries(inputs).map(function (_ref) {\n      var _ref2 = Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      return [key, ''];\n    }));\n    setInputs(blankState);\n  }\n\n  return {\n    inputs: inputs,\n    handleChange: handleChange,\n    resetForm: resetForm,\n    clearForm: clearForm\n  };\n}\n\n/***/ }),\n\n/***/ \"DHDp\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/reset\",\n        function () {\n          return __webpack_require__(\"TIFu\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"TIFu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ ResetPage; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./components/RequestReset.js\nvar RequestReset = __webpack_require__(\"vtBk\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"vJKn\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"rg98\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(\"xvhg\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(\"jT3O\");\n\n// EXTERNAL MODULE: ./components/styles/Form.js\nvar Form = __webpack_require__(\"mzXK\");\n\n// EXTERNAL MODULE: ./lib/useForm.js\nvar useForm = __webpack_require__(\"8OKQ\");\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/src/index.js\nvar src = __webpack_require__(\"lTCR\");\nvar src_default = /*#__PURE__*/__webpack_require__.n(src);\n\n// EXTERNAL MODULE: ./components/User.js\nvar User = __webpack_require__(\"VliS\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./components/ErrorMessage.js\nvar ErrorMessage = __webpack_require__(\"VUBQ\");\n\n// CONCATENATED MODULE: ./components/Reset.js\n\n\n\n\n\n\n\nfunction _templateObject() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation RESET_MUTATION($email: String!, $token: String!, $password: String!){\\n        redeemUserPasswordResetToken(email: $email, token: $token, password: $password) {\\n            code\\n            message\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n\n\n\n\n\nvar RESET_MUTATION = src_default()(_templateObject()); //Component to reset the password\n\nfunction Reset(_ref) {\n  var _data$redeemUserPassw;\n\n  var token = _ref.token;\n\n  //setting initial values of inputs\n  var _useForm = Object(useForm[\"a\" /* default */])({\n    email: '',\n    password: '',\n    token: token\n  }),\n      inputs = _useForm.inputs,\n      handleChange = _useForm.handleChange,\n      resetForm = _useForm.resetForm; //passing input values to backend\n\n\n  var _useMutation = Object(client[\"useMutation\"])(RESET_MUTATION, {\n    variables: inputs\n  }),\n      _useMutation2 = Object(slicedToArray[\"a\" /* default */])(_useMutation, 2),\n      reset = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      data = _useMutation2$.data,\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error; //handling form submission\n\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  } //accounting for error received from password reset\n\n\n  function _handleSubmit() {\n    _handleSubmit = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(e) {\n      var res;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return reset()[\"catch\"](console.error);\n\n            case 3:\n              res = _context.sent;\n              console.log(res);\n              resetForm();\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  var successfulError = data !== null && data !== void 0 && (_data$redeemUserPassw = data.redeemUserPasswordResetToken) !== null && _data$redeemUserPassw !== void 0 && _data$redeemUserPassw.code ? data === null || data === void 0 ? void 0 : data.redeemUserPasswordResetToken : undefined;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */], {\n    method: \"POST\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\", {\n      children: \"Reset Your Password\"\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ErrorMessage[\"a\" /* default */], {\n      error: error || successfulError\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\", {\n      children: [(data === null || data === void 0 ? void 0 : data.redeemUserPasswordResetToken) === null && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n        children: \"Password Reset Complete! Please sign in\"\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n        htmlFor: \"email\",\n        children: [\"Email\", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Your Email Address\",\n          autoComplete: \"email\",\n          value: inputs.email,\n          onChange: handleChange\n        })]\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n        htmlFor: \"password\",\n        children: [\"Password\", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Your Password\",\n          autoComplete: \"password\",\n          value: inputs.password,\n          onChange: handleChange\n        })]\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n        type: \"submit\",\n        children: \"Request Reset\"\n      })]\n    })]\n  });\n}\n// CONCATENATED MODULE: ./pages/reset.js\n\n\n\n //Reset Page to perform password reset\n\nfunction ResetPage(_ref) {\n  var query = _ref.query;\n\n  //If no token is available, redirects to Request Reset form\n  if (!(query !== null && query !== void 0 && query.token)) {\n    return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n        children: \"Sorry, must supply valid token\"\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RequestReset[\"a\" /* default */], {})]\n    });\n  } //Else allows to reset password\n  //Pass token to Reset component\n\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n      children: \"Reset Your Password\"\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Reset, {\n      token: query.token\n    })]\n  });\n}\n\n/***/ }),\n\n/***/ \"VliS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CURRENT_USER_QUERY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return useUser; });\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"jT3O\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"VX74\");\n\n\nfunction _templateObject() {\n  var data = Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])([\"\\n    query{\\n        authenticatedItem {\\n            ... on User {\\n                id\\n                email\\n                name\\n                cart {\\n                    id\\n                    quantity\\n                    product {\\n                        id\\n                        price\\n                        name\\n                        description\\n                        photo {\\n                            image {\\n                                publicUrlTransformed\\n                            }\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\nvar CURRENT_USER_QUERY = Object(_apollo_client__WEBPACK_IMPORTED_MODULE_1__[\"gql\"])(_templateObject()); //Component to return the current logged in user\n\nfunction useUser() {\n  var _useQuery = Object(_apollo_client__WEBPACK_IMPORTED_MODULE_1__[\"useQuery\"])(CURRENT_USER_QUERY),\n      data = _useQuery.data;\n\n  return data === null || data === void 0 ? void 0 : data.authenticatedItem;\n}\n\n/***/ }),\n\n/***/ \"cpVT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _defineProperty; });\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n/***/ }),\n\n/***/ \"mzXK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vOnD\");\n\nvar loading = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__[/* keyframes */ \"c\"])([\"from{background-position:0 0;}to{background-position:100% 100%;}\"]);\nvar Form = styled_components__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"b\"].form.withConfig({\n  displayName: \"Form\",\n  componentId: \"sc-1xszr8q-0\"\n})([\"box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:var(--red);}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient( to right,#ff3019 0%,#e2b04a 50%,#ff3019 100% );}&[aria-busy='true']::before{background-size:50% auto;animation:\", \" 0.5s linear infinite;}}\"], loading);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Form);\n\n/***/ }),\n\n/***/ \"rg98\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _asyncToGenerator; });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\n/***/ }),\n\n/***/ \"vtBk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RequestReset; });\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"jT3O\");\n/* harmony import */ var _styles_Form__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"mzXK\");\n/* harmony import */ var _lib_useForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"8OKQ\");\n/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"lTCR\");\n/* harmony import */ var graphql_tag__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(graphql_tag__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"VX74\");\n/* harmony import */ var _ErrorMessage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"VUBQ\");\n\n\n\n\n\n\n\nfunction _templateObject() {\n  var data = Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])([\"\\n    mutation REQUEST_RESET_MUTATION($email: String!){\\n        sendUserPasswordResetLink(email: $email) {\\n            code\\n            message\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n\n\n\n //Method to request reset \n\nvar REQUEST_RESET_MUTATION = graphql_tag__WEBPACK_IMPORTED_MODULE_7___default()(_templateObject()); //Component to request reset to email address\n\nfunction RequestReset() {\n  //setting initial value of email input \n  var _useForm = Object(_lib_useForm__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])({\n    email: ''\n  }),\n      inputs = _useForm.inputs,\n      handleChange = _useForm.handleChange,\n      resetForm = _useForm.resetForm; //submitting email input value to backend\n\n\n  var _useMutation = Object(_apollo_client__WEBPACK_IMPORTED_MODULE_8__[\"useMutation\"])(REQUEST_RESET_MUTATION, {\n    variables: inputs\n  }),\n      _useMutation2 = Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useMutation, 2),\n      requestReset = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      data = _useMutation2$.data,\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error; //Handling form submission\n\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function _handleSubmit() {\n    _handleSubmit = Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(e) {\n      var res;\n      return C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return requestReset()[\"catch\"](console.error);\n\n            case 3:\n              res = _context.sent;\n              console.log(res);\n              resetForm();\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(_styles_Form__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n    method: \"POST\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"h2\", {\n      children: \"Request a Password Reset\"\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(_ErrorMessage__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n      error: error\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(\"fieldset\", {\n      children: [(data === null || data === void 0 ? void 0 : data.sendUserPasswordResetLink) === null && /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"p\", {\n        children: \"Check your email for reset link!\"\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsxs\"])(\"label\", {\n        htmlFor: \"email\",\n        children: [\"Email\", /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Your Email Address\",\n          autoComplete: \"email\",\n          value: inputs.email,\n          onChange: handleChange\n        })]\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__[\"jsx\"])(\"button\", {\n        type: \"submit\",\n        children: \"Request Reset\"\n      })]\n    })]\n  });\n}\n\n/***/ }),\n\n/***/ \"xvhg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ _slicedToArray; });\n\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\n\n\n\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\n/***/ })\n\n},[[\"DHDp\",0,1,2,3]]]);","inputSourceMap":{"version":3,"sources":["C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\lib\\useForm.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Freset&absolutePagePath=private-next-pages%2Freset.js!","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\Reset.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\pages\\reset.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\User.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\defineProperty.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\styles\\Form.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\asyncToGenerator.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\RequestReset.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\arrayWithHoles.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\iterableToArrayLimit.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\arrayLikeToArray.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\unsupportedIterableToArray.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\nonIterableRest.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\slicedToArray.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["import _defineProperty from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect } from 'react';\nimport { useState } from 'react'; //Helper function to create dynamic controlled input components\n\nexport default function useForm() {\n  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //creating state object for inputs\n  var _useState = useState(initial),\n      inputs = _useState[0],\n      setInputs = _useState[1];\n\n  var initialValues = Object.values(initial).join();\n  useEffect(function () {\n    setInputs(initial);\n  }, [initialValues]);\n\n  function handleChange(e) {\n    var _e$target = e.target,\n        value = _e$target.value,\n        name = _e$target.name,\n        type = _e$target.type;\n\n    if (type === 'number') {\n      value = parseInt(value);\n    }\n\n    if (type === 'file') {\n      var _e$target$files = _slicedToArray(e.target.files, 1);\n\n      value = _e$target$files[0];\n    }\n\n    setInputs(_objectSpread(_objectSpread({}, inputs), {}, _defineProperty({}, name, value)));\n  }\n\n  function resetForm() {\n    setInputs(initial);\n  }\n\n  function clearForm() {\n    var blankState = Object.fromEntries(Object.entries(inputs).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      return [key, ''];\n    }));\n    setInputs(blankState);\n  }\n\n  return {\n    inputs: inputs,\n    handleChange: handleChange,\n    resetForm: resetForm,\n    clearForm: clearForm\n  };\n}","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/reset\",\n        function () {\n          return require(\"private-next-pages/reset.js\");\n        }\n      ]);\n    ","import _regeneratorRuntime from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation RESET_MUTATION($email: String!, $token: String!, $password: String!){\\n        redeemUserPasswordResetToken(email: $email, token: $token, password: $password) {\\n            code\\n            message\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Form from './styles/Form';\nimport useForm from '../lib/useForm';\nimport gql from 'graphql-tag';\nimport { CURRENT_USER_QUERY } from './User';\nimport { useMutation } from '@apollo/client';\nimport DisplayError from './ErrorMessage';\nvar RESET_MUTATION = gql(_templateObject()); //Component to reset the password\n\nexport default function Reset(_ref) {\n  var _data$redeemUserPassw;\n\n  var token = _ref.token;\n\n  //setting initial values of inputs\n  var _useForm = useForm({\n    email: '',\n    password: '',\n    token: token\n  }),\n      inputs = _useForm.inputs,\n      handleChange = _useForm.handleChange,\n      resetForm = _useForm.resetForm; //passing input values to backend\n\n\n  var _useMutation = useMutation(RESET_MUTATION, {\n    variables: inputs\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      reset = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      data = _useMutation2$.data,\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error; //handling form submission\n\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  } //accounting for error received from password reset\n\n\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return reset()[\"catch\"](console.error);\n\n            case 3:\n              res = _context.sent;\n              console.log(res);\n              resetForm();\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  var successfulError = data !== null && data !== void 0 && (_data$redeemUserPassw = data.redeemUserPasswordResetToken) !== null && _data$redeemUserPassw !== void 0 && _data$redeemUserPassw.code ? data === null || data === void 0 ? void 0 : data.redeemUserPasswordResetToken : undefined;\n  return /*#__PURE__*/_jsxs(Form, {\n    method: \"POST\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsx(\"h2\", {\n      children: \"Reset Your Password\"\n    }), /*#__PURE__*/_jsx(DisplayError, {\n      error: error || successfulError\n    }), /*#__PURE__*/_jsxs(\"fieldset\", {\n      children: [(data === null || data === void 0 ? void 0 : data.redeemUserPasswordResetToken) === null && /*#__PURE__*/_jsx(\"p\", {\n        children: \"Password Reset Complete! Please sign in\"\n      }), /*#__PURE__*/_jsxs(\"label\", {\n        htmlFor: \"email\",\n        children: [\"Email\", /*#__PURE__*/_jsx(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Your Email Address\",\n          autoComplete: \"email\",\n          value: inputs.email,\n          onChange: handleChange\n        })]\n      }), /*#__PURE__*/_jsxs(\"label\", {\n        htmlFor: \"password\",\n        children: [\"Password\", /*#__PURE__*/_jsx(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Your Password\",\n          autoComplete: \"password\",\n          value: inputs.password,\n          onChange: handleChange\n        })]\n      }), /*#__PURE__*/_jsx(\"button\", {\n        type: \"submit\",\n        children: \"Request Reset\"\n      })]\n    })]\n  });\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport RequestReset from \"../components/RequestReset\";\nimport Reset from \"../components/Reset\"; //Reset Page to perform password reset\n\nexport default function ResetPage(_ref) {\n  var query = _ref.query;\n\n  //If no token is available, redirects to Request Reset form\n  if (!(query !== null && query !== void 0 && query.token)) {\n    return /*#__PURE__*/_jsxs(\"div\", {\n      children: [/*#__PURE__*/_jsx(\"p\", {\n        children: \"Sorry, must supply valid token\"\n      }), /*#__PURE__*/_jsx(RequestReset, {})]\n    });\n  } //Else allows to reset password\n  //Pass token to Reset component\n\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(\"p\", {\n      children: \"Reset Your Password\"\n    }), /*#__PURE__*/_jsx(Reset, {\n      token: query.token\n    })]\n  });\n}","import _taggedTemplateLiteral from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    query{\\n        authenticatedItem {\\n            ... on User {\\n                id\\n                email\\n                name\\n                cart {\\n                    id\\n                    quantity\\n                    product {\\n                        id\\n                        price\\n                        name\\n                        description\\n                        photo {\\n                            image {\\n                                publicUrlTransformed\\n                            }\\n                        }\\n                    }\\n                }\\n            }\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { gql, useQuery } from \"@apollo/client\";\nexport var CURRENT_USER_QUERY = gql(_templateObject()); //Component to return the current logged in user\n\nexport function useUser() {\n  var _useQuery = useQuery(CURRENT_USER_QUERY),\n      data = _useQuery.data;\n\n  return data === null || data === void 0 ? void 0 : data.authenticatedItem;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import styled, { keyframes } from 'styled-components';\nvar loading = keyframes([\"from{background-position:0 0;}to{background-position:100% 100%;}\"]);\nvar Form = styled.form.withConfig({\n  displayName: \"Form\",\n  componentId: \"sc-1xszr8q-0\"\n})([\"box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:var(--red);}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient( to right,#ff3019 0%,#e2b04a 50%,#ff3019 100% );}&[aria-busy='true']::before{background-size:50% auto;animation:\", \" 0.5s linear infinite;}}\"], loading);\nexport default Form;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import _regeneratorRuntime from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _asyncToGenerator from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation REQUEST_RESET_MUTATION($email: String!){\\n        sendUserPasswordResetLink(email: $email) {\\n            code\\n            message\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Form from './styles/Form';\nimport useForm from '../lib/useForm';\nimport gql from 'graphql-tag';\nimport { useMutation } from '@apollo/client';\nimport DisplayError from './ErrorMessage'; //Method to request reset \n\nvar REQUEST_RESET_MUTATION = gql(_templateObject()); //Component to request reset to email address\n\nexport default function RequestReset() {\n  //setting initial value of email input \n  var _useForm = useForm({\n    email: ''\n  }),\n      inputs = _useForm.inputs,\n      handleChange = _useForm.handleChange,\n      resetForm = _useForm.resetForm; //submitting email input value to backend\n\n\n  var _useMutation = useMutation(REQUEST_RESET_MUTATION, {\n    variables: inputs\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      requestReset = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      data = _useMutation2$.data,\n      loading = _useMutation2$.loading,\n      error = _useMutation2$.error; //Handling form submission\n\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function _handleSubmit() {\n    _handleSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return requestReset()[\"catch\"](console.error);\n\n            case 3:\n              res = _context.sent;\n              console.log(res);\n              resetForm();\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/_jsxs(Form, {\n    method: \"POST\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsx(\"h2\", {\n      children: \"Request a Password Reset\"\n    }), /*#__PURE__*/_jsx(DisplayError, {\n      error: error\n    }), /*#__PURE__*/_jsxs(\"fieldset\", {\n      children: [(data === null || data === void 0 ? void 0 : data.sendUserPasswordResetLink) === null && /*#__PURE__*/_jsx(\"p\", {\n        children: \"Check your email for reset link!\"\n      }), /*#__PURE__*/_jsxs(\"label\", {\n        htmlFor: \"email\",\n        children: [\"Email\", /*#__PURE__*/_jsx(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Your Email Address\",\n          autoComplete: \"email\",\n          value: inputs.email,\n          onChange: handleChange\n        })]\n      }), /*#__PURE__*/_jsx(\"button\", {\n        type: \"submit\",\n        children: \"Request Reset\"\n      })]\n    })]\n  });\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}"]}}