{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[19],{\"8OKQ\":function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return u}));var r=t(\"cpVT\"),i=t(\"xvhg\"),o=t(\"q1tI\");function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object(o.useState)(e),t=n[0],a=n[1],u=Object.values(e).join();function s(e){var n=e.target,o=n.value,u=n.name,s=n.type;(\"number\"===s&&(o=parseInt(o)),\"file\"===s)&&(o=Object(i.a)(e.target.files,1)[0]);a(c(c({},t),{},Object(r.a)({},u,o)))}function d(){a(e)}function l(){var e=Object.fromEntries(Object.entries(t).map((function(e){var n=Object(i.a)(e,2),t=n[0];n[1];return[t,\"\"]})));a(e)}return Object(o.useEffect)((function(){a(e)}),[u]),{inputs:t,handleChange:s,resetForm:d,clearForm:l}}},cpVT:function(e,n,t){\"use strict\";function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,\"a\",(function(){return r}))},mzXK:function(e,n,t){\"use strict\";var r=t(\"vOnD\"),i=Object(r.c)([\"from{background-position:0 0;}to{background-position:100% 100%;}\"]),o=r.b.form.withConfig({displayName:\"Form\",componentId:\"sc-1xszr8q-0\"})([\"box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:var(--red);}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient( to right,#ff3019 0%,#e2b04a 50%,#ff3019 100% );}&[aria-busy='true']::before{background-size:50% auto;animation:\",\" 0.5s linear infinite;}}\"],i);n.a=o},oQRt:function(e,n,t){\"use strict\";t.r(n),t.d(n,\"default\",(function(){return v}));var r=t(\"nKUr\"),i=t(\"vJKn\"),o=t.n(i),a=t(\"rg98\"),c=t(\"xvhg\"),u=t(\"jT3O\"),s=t(\"VX74\"),d=t(\"lTCR\"),l=t.n(d),p=t(\"8OKQ\"),b=t(\"VUBQ\"),f=t(\"mzXK\");function m(){var e=Object(u.a)([\"\\n    mutation UPDATE_PRODUCT_MUTATION(\\n        $id: ID!\\n        $name: String\\n        $description: String\\n        $price: Int   \\n    ) {\\n        updateProduct(\\n            id: $id,\\n            data: {\\n                name: $name\\n                description: $description\\n                price: $price\\n            }\\n        ) {\\n            id\\n            name\\n            description\\n            price\\n        }\\n    }\\n\"]);return m=function(){return e},e}function j(){var e=Object(u.a)([\"\\n    query SINGLE_PRODUCT_QUERY($id: ID!){\\n        Product(where: {\\n            id:$id\\n        }) {\\n            id\\n            name\\n            description\\n            price\\n        }\\n    }\\n\"]);return j=function(){return e},e}var h=l()(j()),O=l()(m());function g(e){var n=e.id,t=Object(s.useQuery)(h,{variables:{id:n}}),i=t.data,u=t.error,d=t.loading,l=Object(s.useMutation)(O),m=Object(c.a)(l,2),j=m[0],g=m[1],v=(g.data,g.error),y=g.loading,w=Object(p.a)(null===i||void 0===i?void 0:i.Product),x=w.inputs,P=w.handleChange;w.resetForm,w.clearForm;return d?Object(r.jsx)(\"p\",{children:\"loading...\"}):Object(r.jsxs)(f.a,{onSubmit:function(){var e=Object(a.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,j({variables:{id:n,name:x.name,description:x.description,price:x.price}});case 3:e.sent;case 4:case\"end\":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),children:[Object(r.jsx)(b.a,{error:u||v}),Object(r.jsxs)(\"fieldset\",{disabled:y,\"aria-busy\":y,children:[Object(r.jsxs)(\"label\",{htmlFor:\"name\",children:[\"Name: \",Object(r.jsx)(\"input\",{type:\"text\",id:\"name\",name:\"name\",placeholder:\"Name\",value:x.name,onChange:P})]}),Object(r.jsxs)(\"label\",{htmlFor:\"price\",children:[\"Price: \",Object(r.jsx)(\"input\",{type:\"number\",id:\"price\",name:\"price\",placeholder:\"Price\",value:x.price,onChange:P})]}),Object(r.jsxs)(\"label\",{htmlFor:\"description\",children:[\"Description: \",Object(r.jsx)(\"textarea\",{id:\"description\",name:\"description\",placeholder:\"Description\",value:x.description,onChange:P})]}),Object(r.jsx)(\"button\",{type:\"submit\",children:\"Update Product\"})]})]})}function v(e){var n=e.query;return Object(r.jsx)(\"div\",{children:Object(r.jsx)(g,{id:n.id})})}},rg98:function(e,n,t){\"use strict\";function r(e,n,t,r,i,o,a){try{var c=e[o](a),u=c.value}catch(s){return void t(s)}c.done?n(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(i,o){var a=e.apply(n,t);function c(e){r(a,i,o,c,u,\"next\",e)}function u(e){r(a,i,o,c,u,\"throw\",e)}c(void 0)}))}}t.d(n,\"a\",(function(){return i}))},s4oe:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/update\",function(){return t(\"oQRt\")}])},xvhg:function(e,n,t){\"use strict\";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,o=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw o}}return t}}(e,n)||function(e,n){if(e){if(\"string\"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===t&&e.constructor&&(t=e.constructor.name),\"Map\"===t||\"Set\"===t?Array.from(e):\"Arguments\"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(e,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}t.d(n,\"a\",(function(){return i}))}},[[\"s4oe\",0,1,2,3]]]);","map":{"version":3,"sources":["static/chunks/pages/update-aa7ce482c9c364b4bd61.js"],"names":["_N_E","window","push","8OKQ","module","__webpack_exports__","__webpack_require__","d","useForm","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","initial","undefined","_useState","inputs","setInputs","initialValues","values","join","handleChange","e","_e$target","value","name","type","parseInt","files","resetForm","clearForm","blankState","fromEntries","entries","map","_ref","_ref2","cpVT","_defineProperty","obj","configurable","writable","mzXK","styled_components__WEBPACK_IMPORTED_MODULE_0__","loading","Form","form","withConfig","displayName","componentId","oQRt","r","UpdatePage","jsx_runtime","regenerator","regenerator_default","n","asyncToGenerator","slicedToArray","taggedTemplateLiteral","client","src","src_default","ErrorMessage","_templateObject2","data","_templateObject","SINGLE_PRODUCT_QUERY","UPDATE_PRODUCT_MUTATION","UpdateProduct","id","_useQuery","variables","error","_useMutation","_useMutation2","updateProduct","_useMutation2$","updateError","updateLoading","_useForm","Product","children","onSubmit","a","mark","_callee","wrap","_context","prev","next","preventDefault","description","price","sent","stop","_x","this","disabled","aria-busy","htmlFor","placeholder","onChange","query","rg98","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","then","_asyncToGenerator","fn","self","args","err","s4oe","exports","__NEXT_P","xvhg","_arrayLikeToArray","arr","len","arr2","Array","_slicedToArray","isArray","_arrayWithHoles","Symbol","iterator","_arr","_n","_d","_e","_s","_i","_iterableToArrayLimit","o","minLen","prototype","toString","call","slice","constructor","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest"],"mappings":"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"},"name":"static/chunks/pages/update-aa7ce482c9c364b4bd61.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[19],{\n\n/***/ \"8OKQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useForm; });\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n //Helper function to create dynamic controlled input components\n\nfunction useForm() {\n  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //creating state object for inputs\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(initial),\n      inputs = _useState[0],\n      setInputs = _useState[1];\n\n  var initialValues = Object.values(initial).join();\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    setInputs(initial);\n  }, [initialValues]);\n\n  function handleChange(e) {\n    var _e$target = e.target,\n        value = _e$target.value,\n        name = _e$target.name,\n        type = _e$target.type;\n\n    if (type === 'number') {\n      value = parseInt(value);\n    }\n\n    if (type === 'file') {\n      var _e$target$files = Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(e.target.files, 1);\n\n      value = _e$target$files[0];\n    }\n\n    setInputs(_objectSpread(_objectSpread({}, inputs), {}, Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({}, name, value)));\n  }\n\n  function resetForm() {\n    setInputs(initial);\n  }\n\n  function clearForm() {\n    var blankState = Object.fromEntries(Object.entries(inputs).map(function (_ref) {\n      var _ref2 = Object(C_projects_AdvancedReact_frontend_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      return [key, ''];\n    }));\n    setInputs(blankState);\n  }\n\n  return {\n    inputs: inputs,\n    handleChange: handleChange,\n    resetForm: resetForm,\n    clearForm: clearForm\n  };\n}\n\n/***/ }),\n\n/***/ \"cpVT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _defineProperty; });\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\n/***/ }),\n\n/***/ \"mzXK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vOnD\");\n\nvar loading = Object(styled_components__WEBPACK_IMPORTED_MODULE_0__[/* keyframes */ \"c\"])([\"from{background-position:0 0;}to{background-position:100% 100%;}\"]);\nvar Form = styled_components__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"b\"].form.withConfig({\n  displayName: \"Form\",\n  componentId: \"sc-1xszr8q-0\"\n})([\"box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:var(--red);}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient( to right,#ff3019 0%,#e2b04a 50%,#ff3019 100% );}&[aria-busy='true']::before{background-size:50% auto;animation:\", \" 0.5s linear infinite;}}\"], loading);\n/* harmony default export */ __webpack_exports__[\"a\"] = (Form);\n\n/***/ }),\n\n/***/ \"oQRt\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ UpdatePage; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"vJKn\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"rg98\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(\"xvhg\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(\"jT3O\");\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(\"VX74\");\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/src/index.js\nvar src = __webpack_require__(\"lTCR\");\nvar src_default = /*#__PURE__*/__webpack_require__.n(src);\n\n// EXTERNAL MODULE: ./lib/useForm.js\nvar useForm = __webpack_require__(\"8OKQ\");\n\n// EXTERNAL MODULE: ./components/ErrorMessage.js\nvar ErrorMessage = __webpack_require__(\"VUBQ\");\n\n// EXTERNAL MODULE: ./components/styles/Form.js\nvar Form = __webpack_require__(\"mzXK\");\n\n// CONCATENATED MODULE: ./components/UpdateProduct.js\n\n\n\n\n\n\n\nfunction _templateObject2() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation UPDATE_PRODUCT_MUTATION(\\n        $id: ID!\\n        $name: String\\n        $description: String\\n        $price: Int   \\n    ) {\\n        updateProduct(\\n            id: $id,\\n            data: {\\n                name: $name\\n                description: $description\\n                price: $price\\n            }\\n        ) {\\n            id\\n            name\\n            description\\n            price\\n        }\\n    }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    query SINGLE_PRODUCT_QUERY($id: ID!){\\n        Product(where: {\\n            id:$id\\n        }) {\\n            id\\n            name\\n            description\\n            price\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n\n\n\n\n\nvar SINGLE_PRODUCT_QUERY = src_default()(_templateObject());\nvar UPDATE_PRODUCT_MUTATION = src_default()(_templateObject2()); //Component to update product\n\nfunction UpdateProduct(_ref) {\n  var id = _ref.id;\n\n  //Queries the current product to populate forms product information\n  var _useQuery = Object(client[\"useQuery\"])(SINGLE_PRODUCT_QUERY, {\n    variables: {\n      id: id\n    }\n  }),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      loading = _useQuery.loading; //Method to update product \n\n\n  var _useMutation = Object(client[\"useMutation\"])(UPDATE_PRODUCT_MUTATION),\n      _useMutation2 = Object(slicedToArray[\"a\" /* default */])(_useMutation, 2),\n      updateProduct = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      updateData = _useMutation2$.data,\n      updateError = _useMutation2$.error,\n      updateLoading = _useMutation2$.loading; //Populates the inputs with product information\n\n\n  var _useForm = Object(useForm[\"a\" /* default */])(data === null || data === void 0 ? void 0 : data.Product),\n      inputs = _useForm.inputs,\n      handleChange = _useForm.handleChange,\n      resetForm = _useForm.resetForm,\n      clearForm = _useForm.clearForm;\n\n  if (loading) return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n    children: \"loading...\"\n  });\n  return (\n    /*#__PURE__*/\n    // Handling form submission\n    Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */], {\n      onSubmit: /*#__PURE__*/function () {\n        var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(e) {\n          var res;\n          return regenerator_default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  e.preventDefault();\n                  _context.next = 3;\n                  return updateProduct({\n                    variables: {\n                      id: id,\n                      name: inputs.name,\n                      description: inputs.description,\n                      price: inputs.price\n                    }\n                  });\n\n                case 3:\n                  res = _context.sent;\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ErrorMessage[\"a\" /* default */], {\n        error: error || updateError\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\", {\n        disabled: updateLoading,\n        \"aria-busy\": updateLoading,\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n          htmlFor: \"name\",\n          children: [\"Name: \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            name: \"name\",\n            placeholder: \"Name\",\n            value: inputs.name,\n            onChange: handleChange\n          })]\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n          htmlFor: \"price\",\n          children: [\"Price: \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n            type: \"number\",\n            id: \"price\",\n            name: \"price\",\n            placeholder: \"Price\",\n            value: inputs.price,\n            onChange: handleChange\n          })]\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"label\", {\n          htmlFor: \"description\",\n          children: [\"Description: \", /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\", {\n            id: \"description\",\n            name: \"description\",\n            placeholder: \"Description\",\n            value: inputs.description,\n            onChange: handleChange\n          })]\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n          type: \"submit\",\n          children: \"Update Product\"\n        })]\n      })]\n    })\n  );\n}\n// CONCATENATED MODULE: ./pages/update.js\n\n //Update page that passes the id of the product to UpdateProduct Component\n\nfunction UpdatePage(_ref) {\n  var query = _ref.query;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UpdateProduct, {\n      id: query.id\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"rg98\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return _asyncToGenerator; });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\n/***/ }),\n\n/***/ \"s4oe\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/update\",\n        function () {\n          return __webpack_require__(\"oQRt\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"xvhg\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ _slicedToArray; });\n\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n// CONCATENATED MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\n\n\n\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\n/***/ })\n\n},[[\"s4oe\",0,1,2,3]]]);","inputSourceMap":{"version":3,"sources":["C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\lib\\useForm.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\defineProperty.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\styles\\Form.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\components\\UpdateProduct.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-babel-loader.js??ref--4!C:\\projects\\AdvancedReact\\frontend\\pages\\update.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\asyncToGenerator.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\dist\\build\\webpack\\loaders\\next-client-pages-loader.js?page=%2Fupdate&absolutePagePath=private-next-pages%2Fupdate.js!","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\arrayWithHoles.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\iterableToArrayLimit.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\arrayLikeToArray.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\unsupportedIterableToArray.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\nonIterableRest.js","C:\\projects\\AdvancedReact\\frontend\\node_modules\\next\\node_modules\\@babel\\runtime\\helpers\\esm\\slicedToArray.js"],"names":[],"mappings":"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AAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,C;;;;;;;;ACjCA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAA8B;AACvD;AACA;;;;;;;;;;;;;;ACNe;AACf;AACA,C;;ACFe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,C;;ACzBe;AACf;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA,C;;ACR2E;AAC5D;AACf;AACA,oCAAoC,iBAAgB;AACpD;AACA;AACA;AACA,sFAAsF,iBAAgB;AACtG,C;;ACRe;AACf;AACA,C;;ACFuE;AACY;AACY;AACtB;AAC1D;AACf,SAAS,eAAc,SAAS,qBAAoB,YAAY,2BAA0B,YAAY,gBAAe;AACrH,C","file":"x","sourcesContent":["import _defineProperty from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect } from 'react';\nimport { useState } from 'react'; //Helper function to create dynamic controlled input components\n\nexport default function useForm() {\n  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //creating state object for inputs\n  var _useState = useState(initial),\n      inputs = _useState[0],\n      setInputs = _useState[1];\n\n  var initialValues = Object.values(initial).join();\n  useEffect(function () {\n    setInputs(initial);\n  }, [initialValues]);\n\n  function handleChange(e) {\n    var _e$target = e.target,\n        value = _e$target.value,\n        name = _e$target.name,\n        type = _e$target.type;\n\n    if (type === 'number') {\n      value = parseInt(value);\n    }\n\n    if (type === 'file') {\n      var _e$target$files = _slicedToArray(e.target.files, 1);\n\n      value = _e$target$files[0];\n    }\n\n    setInputs(_objectSpread(_objectSpread({}, inputs), {}, _defineProperty({}, name, value)));\n  }\n\n  function resetForm() {\n    setInputs(initial);\n  }\n\n  function clearForm() {\n    var blankState = Object.fromEntries(Object.entries(inputs).map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          value = _ref2[1];\n\n      return [key, ''];\n    }));\n    setInputs(blankState);\n  }\n\n  return {\n    inputs: inputs,\n    handleChange: handleChange,\n    resetForm: resetForm,\n    clearForm: clearForm\n  };\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import styled, { keyframes } from 'styled-components';\nvar loading = keyframes([\"from{background-position:0 0;}to{background-position:100% 100%;}\"]);\nvar Form = styled.form.withConfig({\n  displayName: \"Form\",\n  componentId: \"sc-1xszr8q-0\"\n})([\"box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:var(--red);}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient( to right,#ff3019 0%,#e2b04a 50%,#ff3019 100% );}&[aria-busy='true']::before{background-size:50% auto;animation:\", \" 0.5s linear infinite;}}\"], loading);\nexport default Form;","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"C:/projects/AdvancedReact/frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    mutation UPDATE_PRODUCT_MUTATION(\\n        $id: ID!\\n        $name: String\\n        $description: String\\n        $price: Int   \\n    ) {\\n        updateProduct(\\n            id: $id,\\n            data: {\\n                name: $name\\n                description: $description\\n                price: $price\\n            }\\n        ) {\\n            id\\n            name\\n            description\\n            price\\n        }\\n    }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    query SINGLE_PRODUCT_QUERY($id: ID!){\\n        Product(where: {\\n            id:$id\\n        }) {\\n            id\\n            name\\n            description\\n            price\\n        }\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport gql from \"graphql-tag\";\nimport useForm from \"../lib/useForm\";\nimport DisplayError from \"./ErrorMessage\";\nimport Form from \"./styles/Form\";\nvar SINGLE_PRODUCT_QUERY = gql(_templateObject());\nvar UPDATE_PRODUCT_MUTATION = gql(_templateObject2()); //Component to update product\n\nexport default function UpdateProduct(_ref) {\n  var id = _ref.id;\n\n  //Queries the current product to populate forms product information\n  var _useQuery = useQuery(SINGLE_PRODUCT_QUERY, {\n    variables: {\n      id: id\n    }\n  }),\n      data = _useQuery.data,\n      error = _useQuery.error,\n      loading = _useQuery.loading; //Method to update product \n\n\n  var _useMutation = useMutation(UPDATE_PRODUCT_MUTATION),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      updateProduct = _useMutation2[0],\n      _useMutation2$ = _useMutation2[1],\n      updateData = _useMutation2$.data,\n      updateError = _useMutation2$.error,\n      updateLoading = _useMutation2$.loading; //Populates the inputs with product information\n\n\n  var _useForm = useForm(data === null || data === void 0 ? void 0 : data.Product),\n      inputs = _useForm.inputs,\n      handleChange = _useForm.handleChange,\n      resetForm = _useForm.resetForm,\n      clearForm = _useForm.clearForm;\n\n  if (loading) return /*#__PURE__*/_jsx(\"p\", {\n    children: \"loading...\"\n  });\n  return (\n    /*#__PURE__*/\n    // Handling form submission\n    _jsxs(Form, {\n      onSubmit: /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n          var res;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  e.preventDefault();\n                  _context.next = 3;\n                  return updateProduct({\n                    variables: {\n                      id: id,\n                      name: inputs.name,\n                      description: inputs.description,\n                      price: inputs.price\n                    }\n                  });\n\n                case 3:\n                  res = _context.sent;\n\n                case 4:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      children: [/*#__PURE__*/_jsx(DisplayError, {\n        error: error || updateError\n      }), /*#__PURE__*/_jsxs(\"fieldset\", {\n        disabled: updateLoading,\n        \"aria-busy\": updateLoading,\n        children: [/*#__PURE__*/_jsxs(\"label\", {\n          htmlFor: \"name\",\n          children: [\"Name: \", /*#__PURE__*/_jsx(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            name: \"name\",\n            placeholder: \"Name\",\n            value: inputs.name,\n            onChange: handleChange\n          })]\n        }), /*#__PURE__*/_jsxs(\"label\", {\n          htmlFor: \"price\",\n          children: [\"Price: \", /*#__PURE__*/_jsx(\"input\", {\n            type: \"number\",\n            id: \"price\",\n            name: \"price\",\n            placeholder: \"Price\",\n            value: inputs.price,\n            onChange: handleChange\n          })]\n        }), /*#__PURE__*/_jsxs(\"label\", {\n          htmlFor: \"description\",\n          children: [\"Description: \", /*#__PURE__*/_jsx(\"textarea\", {\n            id: \"description\",\n            name: \"description\",\n            placeholder: \"Description\",\n            value: inputs.description,\n            onChange: handleChange\n          })]\n        }), /*#__PURE__*/_jsx(\"button\", {\n          type: \"submit\",\n          children: \"Update Product\"\n        })]\n      })]\n    })\n  );\n}","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport UpdateProduct from \"../components/UpdateProduct\"; //Update page that passes the id of the product to UpdateProduct Component\n\nexport default function UpdatePage(_ref) {\n  var query = _ref.query;\n  return /*#__PURE__*/_jsx(\"div\", {\n    children: /*#__PURE__*/_jsx(UpdateProduct, {\n      id: query.id\n    })\n  });\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/update\",\n        function () {\n          return require(\"private-next-pages/update.js\");\n        }\n      ]);\n    ","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}"]}}