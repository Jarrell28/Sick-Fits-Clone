{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useMutation } from '@apollo/client';\nimport gql from 'graphql-tag'; //Query to delete product by ID\n\nconst DELETE_PRODUCT_MUTATION = gql`\n    mutation DELETE_PRODUCT_MUTATION($id: ID!){\n        deleteProduct(id: $id){\n            id\n            name\n        }\n    }\n`; //Clears the deleted product from client Apollo graphql cache\n\nfunction update(cache, payload) {\n  cache.evict(cache.identify(payload.data.deleteProduct));\n} //Component to Delete Product \n\n\nexport default function DeleteProduct({\n  id,\n  children\n}) {\n  const [deleteProduct, {\n    loading\n  }] = useMutation(DELETE_PRODUCT_MUTATION, {\n    variables: {\n      id\n    },\n    update: update\n  });\n  return /*#__PURE__*/_jsx(\"button\", {\n    type: \"button\",\n    disabled: loading,\n    onClick: () => {\n      if (confirm('Are you sure you want to delete this item?')) {\n        deleteProduct(id).catch(err => alert(err.message));\n      }\n    },\n    children: children\n  });\n}","map":null,"metadata":{},"sourceType":"module"}