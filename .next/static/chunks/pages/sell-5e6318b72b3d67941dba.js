_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"20a2":function(e,t,n){e.exports=n("nOHt")},"2y/O":function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t={style:"currency",currency:"USD",minimumFractionDigits:2};!1&e&&(t.minimumFractionDigits=0);var n=Intl.NumberFormat("en-US",t);return n.format(e/100)}n.d(t,"a",(function(){return r}))},"38br":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sell",function(){return n("4UCa")}])},"4UCa":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n("nKUr"),i=n("vJKn"),a=n.n(i),o=n("rg98"),c=n("xvhg"),u=n("jT3O"),s=n("8OKQ"),d=n("mzXK"),l=n("lTCR"),f=n.n(l),p=n("VX74"),b=n("VUBQ"),m=n("cUBK"),h=n("20a2"),v=n.n(h);function g(){var e=Object(u.a)(['\n    mutation CREATE_PRODUCT_MUTATION(\n        #which variables are getting passed in and the type\n        $name: String!\n        $description: String!\n        $price: Int!\n        $image: Upload\n    ){\n        createProduct(data:{\n            name: $name,\n            description: $description,\n            price: $price,\n            status: "AVAILABLE",\n            photo: {\n                create: {\n                    image: $image,\n                    altText: $name\n                }\n            }\n        }) {\n            id\n            price\n            description\n            name\n        }\n    }\n']);return g=function(){return e},e}var j=f()(g());function O(){var e=Object(s.a)({name:"",price:0,description:"",image:""}),t=e.inputs,n=e.handleChange,i=(e.resetForm,e.clearForm),u=Object(p.useMutation)(j,{variables:t,refetchQueries:[{query:m.a}]}),l=Object(c.a)(u,2),f=l[0],h=l[1],g=h.loading,O=h.error;h.data;return Object(r.jsxs)(d.a,{onSubmit:function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f();case 3:n=e.sent,i(),v.a.push({pathname:"/product/".concat(n.data.createProduct.id)});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(r.jsx)(b.a,{error:O}),Object(r.jsxs)("fieldset",{disabled:g,"aria-busy":g,children:[Object(r.jsxs)("label",{htmlFor:"image",children:["Image: ",Object(r.jsx)("input",{type:"file",required:!0,id:"image",name:"image",onChange:n})]}),Object(r.jsxs)("label",{htmlFor:"name",children:["Name: ",Object(r.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Name",value:t.name,onChange:n})]}),Object(r.jsxs)("label",{htmlFor:"price",children:["Price: ",Object(r.jsx)("input",{type:"number",id:"price",name:"price",placeholder:"Price",value:t.price,onChange:n})]}),Object(r.jsxs)("label",{htmlFor:"description",children:["Description: ",Object(r.jsx)("textarea",{id:"description",name:"description",placeholder:"Description",value:t.description,onChange:n})]}),Object(r.jsx)("button",{type:"submit",children:"+ Add Product"})]})]})}var y=n("VliS"),x=n("SDjk"),w=function(e){var t=e.children;return Object(y.b)()?t:Object(r.jsx)(x.a,{})};function T(){return Object(r.jsx)("div",{children:Object(r.jsx)(w,{children:Object(r.jsx)(O,{})})})}},"8OKQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("cpVT"),i=n("xvhg"),a=n("q1tI");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=t[0],o=t[1],u=Object.values(e).join();function s(e){var t=e.target,a=t.value,u=t.name,s=t.type;("number"===s&&(a=parseInt(a)),"file"===s)&&(a=Object(i.a)(e.target.files,1)[0]);o(c(c({},n),{},Object(r.a)({},u,a)))}function d(){o(e)}function l(){var e=Object.fromEntries(Object.entries(n).map((function(e){var t=Object(i.a)(e,2),n=t[0];t[1];return[n,""]})));o(e)}return Object(a.useEffect)((function(){o(e)}),[u]),{inputs:n,handleChange:s,resetForm:d,clearForm:l}}},SDjk:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("vJKn"),i=n.n(r),a=n("nKUr"),o=n("rg98"),c=n("xvhg"),u=n("jT3O"),s=n("mzXK"),d=n("8OKQ"),l=n("lTCR"),f=n.n(l),p=n("VliS"),b=n("VX74"),m=n("VUBQ");function h(){var e=Object(u.a)(["\n    mutation SIGNIN_MUTATION($email: String!, $password: String!){\n        authenticateUserWithPassword(email: $email, password: $password){\n            ... on UserAuthenticationWithPasswordSuccess{\n                item {\n                    id\n                    email\n                    name\n                }\n            }\n\n            ... on UserAuthenticationWithPasswordFailure {\n                code\n                message\n            }\n        }\n    }\n"]);return h=function(){return e},e}var v=f()(h());function g(){var e=Object(d.a)({email:"",password:""}),t=e.inputs,n=e.handleChange,r=e.resetForm,u=Object(b.useMutation)(v,{variables:t,refetchQueries:[{query:p.a}]}),l=Object(c.a)(u,2),f=l[0],h=l[1],g=h.data;h.loading;function j(){return(j=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f();case 3:e.sent,r();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O="UserAuthenticationWithPasswordFailure"===(null===g||void 0===g?void 0:g.authenticateUserWithPassword.__typename)?null===g||void 0===g?void 0:g.authenticateUserWithPassword:void 0;return Object(a.jsxs)(s.a,{method:"POST",onSubmit:function(e){return j.apply(this,arguments)},children:[Object(a.jsx)("h2",{children:"Sign Into Your Account"}),Object(a.jsx)(m.a,{error:O}),Object(a.jsxs)("fieldset",{children:[Object(a.jsxs)("label",{htmlFor:"email",children:["Email",Object(a.jsx)("input",{type:"email",name:"email",placeholder:"Your Email Address",autoComplete:"email",value:t.email,onChange:n})]}),Object(a.jsxs)("label",{htmlFor:"password",children:["Password",Object(a.jsx)("input",{type:"password",name:"password",placeholder:"Your Password",autoComplete:"password",value:t.password,onChange:n})]}),Object(a.jsx)("button",{type:"submit",children:"Sign In"})]})]})}},VliS:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n("jT3O"),i=n("VX74");function a(){var e=Object(r.a)(["\n    query{\n        authenticatedItem {\n            ... on User {\n                id\n                email\n                name\n                cart {\n                    id\n                    quantity\n                    product {\n                        id\n                        price\n                        name\n                        description\n                        photo {\n                            image {\n                                publicUrlTransformed\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n"]);return a=function(){return e},e}var o=Object(i.gql)(a());function c(){var e=Object(i.useQuery)(o).data;return null===e||void 0===e?void 0:e.authenticatedItem}},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var r=n("zoAU"),i=n("7KCV");t.__esModule=!0,t.default=void 0;var a=i(n("q1tI")),o=n("elyg"),c=n("nOHt"),u=n("vNVm"),s={};function d(e,t,n,r){if(e&&(0,o.isLocalURL)(t)){e.prefetch(t,n,r).catch((function(e){0}));var i=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;s[t+"%"+n+(i?"%"+i:"")]=!0}}var l=function(e){var t=!1!==e.prefetch,n=(0,c.useRouter)(),i=n&&n.pathname||"/",l=a.default.useMemo((function(){var t=(0,o.resolveHref)(i,e.href,!0),n=r(t,2),a=n[0],c=n[1];return{href:a,as:e.as?(0,o.resolveHref)(i,e.as):c||a}}),[i,e.href,e.as]),f=l.href,p=l.as,b=e.children,m=e.replace,h=e.shallow,v=e.scroll,g=e.locale;"string"===typeof b&&(b=a.default.createElement("a",null,b));var j=a.Children.only(b),O=j&&"object"===typeof j&&j.ref,y=(0,u.useIntersection)({rootMargin:"200px"}),x=r(y,2),w=x[0],T=x[1],k=a.default.useCallback((function(e){w(e),O&&("function"===typeof O?O(e):"object"===typeof O&&(O.current=e))}),[O,w]);(0,a.useEffect)((function(){var e=T&&t&&(0,o.isLocalURL)(f),r="undefined"!==typeof g?g:n&&n.locale,i=s[f+"%"+p+(r?"%"+r:"")];e&&!i&&d(n,f,p,{locale:r})}),[p,f,T,g,t,n]);var I={ref:k,onClick:function(e){j.props&&"function"===typeof j.props.onClick&&j.props.onClick(e),e.defaultPrevented||function(e,t,n,r,i,a,c,u){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,o.isLocalURL)(n))&&(e.preventDefault(),null==c&&(c=r.indexOf("#")<0),t[i?"replace":"push"](n,r,{shallow:a,locale:u,scroll:c}).then((function(e){e&&c&&document.body.focus()})))}(e,n,f,p,m,h,v,g)},onMouseEnter:function(e){(0,o.isLocalURL)(f)&&(j.props&&"function"===typeof j.props.onMouseEnter&&j.props.onMouseEnter(e),d(n,f,p,{priority:!0}))}};if(e.passHref||"a"===j.type&&!("href"in j.props)){var P="undefined"!==typeof g?g:n&&n.locale,C=(0,o.getDomainLocale)(p,P,n&&n.locales,n&&n.domainLocales);I.href=C||(0,o.addBasePath)((0,o.addLocale)(p,P,n&&n.defaultLocale))}return a.default.cloneElement(j,I)};t.default=l},cUBK:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return U}));var r=n("nKUr"),i=n("jT3O"),a=n("VX74"),o=n("lTCR"),c=n.n(o),u=n("vOnD"),s=n("obyI"),d=u.b.div.withConfig({displayName:"ItemStyles",componentId:"sc-16pk14u-0"})(["background:white;border:1px solid var(--offWhite);box-shadow:var(--bs);position:relative;display:flex;flex-direction:column;img{width:100%;height:400px;object-fit:cover;}p{line-height:2;font-weight:300;flex-grow:1;padding:0 3rem;font-size:1.5rem;}.buttonList{display:grid;width:100%;border-top:1px solid var(--lightGray);grid-template-columns:repeat(auto-fit,minmax(100px,1fr));grid-gap:1px;background:var(--lightGray);& > *{background:white;border:0;font-size:1rem;padding:1rem;}}"]),l=u.b.h3.withConfig({displayName:"Title",componentId:"sc-16nq74k-0"})(["margin:0 1rem;text-align:center;transform:skew(-5deg) rotate(-1deg);margin-top:-3rem;text-shadow:2px 2px 0 rgba(0,0,0,0.1);a{background:var(--red);display:inline;line-height:1.3;font-size:4rem;text-align:center;color:white;padding:0 1rem;}"]),f=u.b.span.withConfig({displayName:"PriceTag",componentId:"nwbk6t-0"})(["background:var(--red);transform:rotate(3deg);color:white;font-weight:600;padding:5px;line-height:1;font-size:3rem;display:inline-block;position:absolute;top:-3px;right:-3px;"]),p=n("YFqc"),b=n.n(p),m=n("2y/O"),h=n("xvhg");function v(){var e=Object(i.a)(["\n    mutation DELETE_PRODUCT_MUTATION($id: ID!){\n        deleteProduct(id: $id){\n            id\n            name\n        }\n    }\n"]);return v=function(){return e},e}var g=c()(v());function j(e,t){e.evict(e.identify(t.data.deleteProduct))}function O(e){var t=e.id,n=e.children,i=Object(a.useMutation)(g,{variables:{id:t},update:j}),o=Object(h.a)(i,2),c=o[0],u=o[1].loading;return Object(r.jsx)("button",{type:"button",disabled:u,onClick:function(){confirm("Are you sure you want to delete this item?")&&c(t).catch((function(e){return alert(e.message)}))},children:n})}var y=n("VliS");function x(){var e=Object(i.a)(["\n    mutation ADD_TO_CART_MUTATION($id: ID!) {\n        addToCart(productId: $id){\n            id\n        }\n    }\n"]);return x=function(){return e},e}var w=c()(x());function T(e){var t=e.id,n=Object(a.useMutation)(w,{variables:{id:t},refetchQueries:[{query:y.a}]}),i=Object(h.a)(n,2),o=i[0],c=i[1].loading;return Object(r.jsxs)("button",{disabled:c,type:"button",onClick:o,children:["Add",c&&"ing"," To Cart!"]})}function k(e){var t,n,i=e.product;return Object(r.jsxs)(d,{children:[Object(r.jsx)("img",{src:null===i||void 0===i||null===(t=i.photo)||void 0===t||null===(n=t.image)||void 0===n?void 0:n.publicUrlTransformed,alt:i.name}),Object(r.jsx)(l,{children:Object(r.jsx)(b.a,{href:"/product/".concat(i.id),children:i.name})}),Object(r.jsx)(f,{children:Object(m.a)(i.price)}),Object(r.jsx)("p",{children:i.description}),Object(r.jsxs)("div",{className:"buttonList",children:[Object(r.jsx)(b.a,{href:{pathname:"update",query:{id:i.id}},children:"Edit"}),Object(r.jsx)(T,{id:i.id}),Object(r.jsx)(O,{id:i.id,children:"Delete"})]})]})}function I(){var e=Object(i.a)(["\n    query ALL_PRODUCTS_QUERY($skip: Int = 0, $first: Int){\n        allProducts(first: $first, skip: $skip) {\n            id\n            name\n            price\n            description\n            photo {\n            id\n            image {\n                publicUrlTransformed\n            }\n            }\n        }\n    }\n"]);return I=function(){return e},e}var P=c()(I()),C=u.b.div.withConfig({displayName:"Products__ProductsList",componentId:"sc-1uv5x8m-0"})(["display:grid;grid-template-columns:1fr 1fr;grid-gap:60px;"]);function U(e){var t=e.page,n=Object(a.useQuery)(P,{variables:{skip:t*s.a-s.a,first:s.a}}),i=n.data,o=n.error;return n.loading?Object(r.jsx)("p",{children:"Loading..."}):o?Object(r.jsxs)("p",{children:["Error: ",o.message]}):Object(r.jsx)("div",{children:Object(r.jsx)(C,{children:null===i||void 0===i?void 0:i.allProducts.map((function(e){return Object(r.jsx)(k,{product:e},e.id)}))})})}},cpVT:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},mzXK:function(e,t,n){"use strict";var r=n("vOnD"),i=Object(r.c)(["from{background-position:0 0;}to{background-position:100% 100%;}"]),a=r.b.form.withConfig({displayName:"Form",componentId:"sc-1xszr8q-0"})(["box-shadow:0 0 5px 3px rgba(0,0,0,0.05);background:rgba(0,0,0,0.02);border:5px solid white;padding:20px;font-size:1.5rem;line-height:1.5;font-weight:600;label{display:block;margin-bottom:1rem;}input,textarea,select{width:100%;padding:0.5rem;font-size:1rem;border:1px solid black;&:focus{outline:0;border-color:var(--red);}}button,input[type='submit']{width:auto;background:red;color:white;border:0;font-size:2rem;font-weight:600;padding:0.5rem 1.2rem;}fieldset{border:0;padding:0;&[disabled]{opacity:0.5;}&::before{height:10px;content:'';display:block;background-image:linear-gradient( to right,#ff3019 0%,#e2b04a 50%,#ff3019 100% );}&[aria-busy='true']::before{background-size:50% auto;animation:"," 0.5s linear infinite;}}"],i);t.a=a},obyI:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var r="https://sick-fitsclone.herokuapp.com/api/graphql",i=4},rg98:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var c=e[a](o),u=c.value}catch(s){return void n(s)}c.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function c(e){r(o,i,a,c,u,"next",e)}function u(e){r(o,i,a,c,u,"throw",e)}c(void 0)}))}}n.d(t,"a",(function(){return i}))},vNVm:function(e,t,n){"use strict";var r=n("zoAU"),i=n("AroE");t.__esModule=!0,t.useIntersection=function(e){var t=e.rootMargin,n=e.disabled||!c,i=(0,a.useRef)(),s=(0,a.useState)(!1),d=r(s,2),l=d[0],f=d[1],p=(0,a.useCallback)((function(e){i.current&&(i.current(),i.current=void 0),n||l||e&&e.tagName&&(i.current=function(e,t,n){var r=function(e){var t=e.rootMargin||"",n=u.get(t);if(n)return n;var r=new Map,i=new IntersectionObserver((function(e){e.forEach((function(e){var t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return u.set(t,n={id:t,observer:i,elements:r}),n}(n),i=r.id,a=r.observer,o=r.elements;return o.set(e,t),a.observe(e),function(){o.delete(e),a.unobserve(e),0===o.size&&(a.disconnect(),u.delete(i))}}(e,(function(e){return e&&f(e)}),{rootMargin:t}))}),[n,t,l]);return(0,a.useEffect)((function(){c||l||(0,o.default)((function(){return f(!0)}))}),[l]),[p,l]};var a=n("q1tI"),o=i(n("0G5g")),c="undefined"!==typeof IntersectionObserver;var u=new Map},xvhg:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return i}))}},[["38br",0,1,2,3,4]]]);